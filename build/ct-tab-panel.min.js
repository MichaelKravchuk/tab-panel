function closest(t,e){try{if(t.parentNode)return t.parentNode.querySelector(e)?t:closest(t.parentNode,e);throw new Error('Element by querySelector "'+e+'" not found!')}catch(n){console.error(n.name+": "+n.message)}}var TabPanelPrototype=Object.create(HTMLElement.prototype);TabPanelPrototype.createdCallback=function(){function t(){if(s)try{if(s=s.replace(/-([a-z])/g,_upper),s=s.replace(s[0],s[0].toUpperCase()),window["tabPanel"+s])throw new Error('Attribute data-id for "ct-tab-panel" must be unique!');window["tabPanel"+s]=e}catch(t){console.error(t.name+": "+t.message,e)}e.setActive(l),i=_createLoadElem()}var e=this;e.debag=!1;var n=void 0,o=1,a=!1,r=!1,c=0,i=void 0,l=this.getAttribute("data-active")||1,s=this.getAttribute("data-id"),p=this.querySelector("tab-nav"),d=this.querySelector("tab-content");this.name="tab-panel",this.setActive=function(t){if(!e.existIndex(t))return-1;if(0==c?e.dispatchEvent(u(t)):2==c&&(c=0),_checkAbort())return!1;if(_checkStop(t))return!1;if(_checkLoadStatus(t))return!1;n=t;var o=e.querySelector("tab-nav-item:nth-of-type("+t+")"),a=e.querySelector("tab-content-item:nth-of-type("+t+")"),r=p.querySelector("tab-nav-item.active"),i=d.querySelector("tab-content-item.active");return r&&r.classList.remove("active"),i&&i.classList.remove("active"),o.classList.add("active"),a.classList.add("active"),t},this.next=function(){return e.setActive(n+1)},this.prev=function(){return e.setActive(n-1)},this.getIndex=function(){return n},this.existIndex=function(t){return void 0!=e.querySelector("tab-nav-item:nth-of-type("+t+")")&&n!=t},this.abort=function(){a=!0,e.debag&&console.warn("tabPanel"+s+": abort event setActive")},this.stop=function(){r=!0,e.debag&&console.warn("tabPanel"+s+": stop event setActive")},this["continue"]=function(){c=2,e.setActive(o),e.debag&&console.warn("tabPanel"+s+": continue event setActive")},this.startLoad=function(t){e.stop(),c=1,_toggleLoader(!0,t)},this.endLoad=function(){_toggleLoader(),e["continue"]()},this.errorLoad=function(){_toggleLoader(),c=0,e.debag&&console.error("tabPanel"+s+": data loading error")},_upper=function(t){return t[1].toUpperCase()},_checkAbort=function(){return a?(a=!1,!0):!1},_checkStop=function(){return r?(r=!1,!0):!1},_checkLoadStatus=function(){return 0==c?!1:!0},_createLoadElem=function(){var t=document.createElement("div");t.classList.add("tab-panel-load");for(var e=document.createElement("div"),n=document.createElement("span"),o=1;9>o;o++)e.appendChild(n.cloneNode());return t.appendChild(e),d.appendChild(t),t},_toggleLoader=function(t,e){t?(e&&(i.innerHTML="",i.appendChild(e.cloneNode(!0))),i.classList.add("show")):i.classList.remove("show")};var u=function(t){return o=t,new CustomEvent("setActive",{bubbles:!0,cancelable:!0,detail:{nextActiveIndex:t}})};t()};var TabNavPrototype=Object.create(HTMLElement.prototype);TabNavPrototype.createdCallback=function(){this.name="tab-nav"};var TabNavItemPrototype=Object.create(HTMLElement.prototype);TabNavItemPrototype.createdCallback=function(){var t=this,e=Array.prototype.indexOf.call(t.parentNode.children,t)+1,n=closest(t,"tab-panel");this.name="tab-nav-item",this.addEventListener("click",function(){n.setActive(e)})};var TabContentPrototype=Object.create(HTMLElement.prototype);TabContentPrototype.createdCallback=function(){};var TabContentItemPrototype=Object.create(HTMLElement.prototype);TabContentItemPrototype.createdCallback=function(){};var TabControlPrototype=Object.create(HTMLElement.prototype);TabControlPrototype.createdCallback=function(){var self=this,_controlEvent=this.getAttribute("data-event")||"next",_controlParams=this.getAttribute("data-params")||"[]",_parent=closest(self,"tab-panel");this.name="tab-control",this.addEventListener("click",function(e){_parent[_controlEvent].apply(!1,eval(_controlParams))})},document.registerElement("tab-panel",{prototype:TabPanelPrototype}),document.registerElement("tab-nav",{prototype:TabNavPrototype}),document.registerElement("tab-nav-item",{prototype:TabNavItemPrototype}),document.registerElement("tab-content",{prototype:TabContentPrototype}),document.registerElement("tab-content-item",{prototype:TabContentItemPrototype}),document.registerElement("tab-control",{prototype:TabControlPrototype});