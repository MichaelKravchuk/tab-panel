function closest(t,e){try{if(t.parentNode)return t.parentNode.querySelector(e)?t:closest(t.parentNode,e);throw new Error('Element by querySelector "'+e+'" not found!')}catch(n){console.error(n.name+": "+n.message)}}var TabPanelPrototype=Object.create(HTMLElement.prototype);TabPanelPrototype.createdCallback=function(){function t(){if(m)try{if(m=m.replace(/-([a-z])/g,e),m=m.replace(m[0],m[0].toUpperCase()),window["tabPanel"+m])throw new Error('Attribute data-id for "ct-tab-panel" must be unique!');window["tabPanel"+m]=i}catch(t){console.error(t.name+": "+t.message,i)}i.setActive(v),d=r()}function e(t){return t[1].toUpperCase()}function n(){return p?(p=!1,!0):!1}function a(){return u?(u=!1,!0):!1}function o(){return 0==b?!1:!0}function r(){var t=document.createElement("div");t.classList.add("tab-panel-load");for(var e=document.createElement("div"),n=document.createElement("span"),a=1;9>a;a++)e.appendChild(n.cloneNode());return t.appendChild(e),f.appendChild(t),t}function c(t,e){t?(e&&(d.innerHTML="",d.appendChild(e.cloneNode(!0))),d.classList.add("show")):d.classList.remove("show")}var i=this;i.debag=!1;var s=void 0,l=1,p=!1,u=!1,b=0,d=void 0,v=this.getAttribute("data-active")||1,m=this.getAttribute("data-id"),y=this.querySelector("tab-nav"),f=this.querySelector("tab-content");this.name="tab-panel",this.setActive=function(t){if(!i.existIndex(t))return-1;if(0==b?i.dispatchEvent(h(t)):2==b&&(b=0),n())return!1;if(a(t))return!1;if(o(t))return!1;s=t;var e=i.querySelector("tab-nav-item:nth-of-type("+t+")"),r=i.querySelector("tab-content-item:nth-of-type("+t+")"),c=y.querySelector("tab-nav-item.active"),l=f.querySelector("tab-content-item.active");return c&&c.classList.remove("active"),l&&l.classList.remove("active"),e.classList.add("active"),r.classList.add("active"),t},this.next=function(){return i.setActive(s+1)},this.prev=function(){return i.setActive(s-1)},this.getIndex=function(){return s},this.existIndex=function(t){return void 0!=i.querySelector("tab-nav-item:nth-of-type("+t+")")&&s!=t},this.abort=function(){p=!0,i.debag&&console.warn("tabPanel"+m+": abort event setActive")},this.stop=function(){u=!0,i.debag&&console.warn("tabPanel"+m+": stop event setActive")},this["continue"]=function(){b=2,i.setActive(l),i.debag&&console.warn("tabPanel"+m+": continue event setActive")},this.startLoad=function(t){i.stop(),b=1,c(!0,t)},this.endLoad=function(){c(),i["continue"]()},this.errorLoad=function(){c(),b=0,i.debag&&console.error("tabPanel"+m+": data loading error")};var h=function(t){return l=t,new CustomEvent("setActive",{bubbles:!0,cancelable:!0,detail:{nextActiveIndex:t}})};t()};var TabNavPrototype=Object.create(HTMLElement.prototype);TabNavPrototype.createdCallback=function(){this.name="tab-nav"};var TabNavItemPrototype=Object.create(HTMLElement.prototype);TabNavItemPrototype.createdCallback=function(){function t(){for(var t=e.parentNode.querySelectorAll("tab-nav-item"),n=t.length;n>0;n--)if(t[n-1]===e)return n;return 0}var e=this,n=t(),a=closest(e,"tab-panel");this.name="tab-nav-item",this.addEventListener("click",function(){a.setActive(n)})};var TabContentPrototype=Object.create(HTMLElement.prototype);TabContentPrototype.createdCallback=function(){};var TabContentItemPrototype=Object.create(HTMLElement.prototype);TabContentItemPrototype.createdCallback=function(){};var TabControlPrototype=Object.create(HTMLElement.prototype);TabControlPrototype.createdCallback=function(){var self=this,_controlEvent=this.getAttribute("data-event")||"next",_controlParams=this.getAttribute("data-params")||"[]",_parent=closest(self,"tab-panel");this.name="tab-control",this.addEventListener("click",function(e){_parent[_controlEvent].apply(!1,eval(_controlParams))})},document.registerElement("tab-panel",{prototype:TabPanelPrototype}),document.registerElement("tab-nav",{prototype:TabNavPrototype}),document.registerElement("tab-nav-item",{prototype:TabNavItemPrototype}),document.registerElement("tab-content",{prototype:TabContentPrototype}),document.registerElement("tab-content-item",{prototype:TabContentItemPrototype}),document.registerElement("tab-control",{prototype:TabControlPrototype});